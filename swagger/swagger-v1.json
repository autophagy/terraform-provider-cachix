{"definitions":{"Account":{"properties":{"email":{"type":"string"},"fullname":{"type":"string"},"githubHasOrgsAcccess":{"type":"boolean"},"githubUsername":{"type":"string"},"id":{"type":"integer"},"isLegacyPaymentProvider":{"type":"boolean"},"slug":{"type":"string"},"subscriptionAccountId":{"type":"string"},"subscriptionCancelURL":{"type":"string"},"subscriptionPlan":{"$ref":"#/definitions/SubscriptionPlan"},"subscriptionPlanId":{"type":"integer"},"subscriptionStatus":{"$ref":"#/definitions/SubscriptionStatus"},"subscriptionStorageLimit":{"type":"integer"},"subscriptionStorageUsage":{"type":"integer"},"subscriptionTrialStartedOn":{"$ref":"#/definitions/UTCTime"},"subscriptionUpdateURL":{"type":"string"}},"required":["id","githubHasOrgsAcccess","isLegacyPaymentProvider","subscriptionPlan","subscriptionStorageLimit","subscriptionStorageUsage","subscriptionStatus"],"type":"object"},"AddMember":{"properties":{"email":{"type":"string"},"permission":{"$ref":"#/definitions/Permission"}},"required":["permission","email"],"type":"object"},"Agent":{"properties":{"id":{"type":"string"},"lastDeployment":{"$ref":"#/definitions/Deployment"},"lastSeen":{"$ref":"#/definitions/UTCTime"},"name":{"type":"string"},"system":{"type":"string"},"version":{"type":"string"}},"required":["id","name","version","lastSeen"],"type":"object"},"AuthToken":{"properties":{"createdOn":{"$ref":"#/definitions/UTCTime"},"description":{"type":"string"},"expiresOn":{"$ref":"#/definitions/UTCTime"},"id":{"$ref":"#/definitions/UUID"},"isRevoked":{"type":"boolean"},"permission":{"$ref":"#/definitions/Permission"}},"required":["id","description","createdOn","isRevoked"],"type":"object"},"BinaryCache":{"properties":{"githubUsername":{"type":"string"},"isPublic":{"type":"boolean"},"name":{"type":"string"},"permission":{"$ref":"#/definitions/Permission"},"preferredCompressionMethod":{"$ref":"#/definitions/CompressionMethod"},"publicSigningKeys":{"items":{"type":"string"},"type":"array"},"uri":{"type":"string"}},"required":["name","uri","isPublic","publicSigningKeys","githubUsername","permission","preferredCompressionMethod"],"type":"object"},"BinaryCacheAuthenticated":{"properties":{"bandwidthLastMonth":{"type":"integer"},"isPublic":{"type":"boolean"},"managedSigningKey":{"type":"boolean"},"name":{"type":"string"},"permission":{"$ref":"#/definitions/Permission"},"publicSigningKeys":{"items":{"type":"string"},"type":"array"},"totalFileSize":{"type":"integer"},"uri":{"type":"string"}},"required":["name","uri","publicSigningKeys","managedSigningKey","isPublic","totalFileSize","bandwidthLastMonth","permission"],"type":"object"},"BinaryCacheCreate":{"properties":{"accountID":{"format":"int32","maximum":2147483647,"minimum":-2147483648,"type":"integer"},"generateSigningKey":{"type":"boolean"},"githubOrganization":{"type":"string"},"githubTeamId":{"maximum":9223372036854775807,"minimum":-9223372036854775808,"type":"integer"},"isPublic":{"type":"boolean"},"publicSigningKey":{"type":"string"}},"required":["isPublic","generateSigningKey","accountID"],"type":"object"},"BinaryCacheSettings":{"properties":{"enableUpstreamNixOSCache":{"type":"boolean"},"isPublic":{"type":"boolean"},"preferredCompressionMethod":{"$ref":"#/definitions/CompressionMethod"},"readGithubOrg":{"type":"string"},"readGithubTeam":{"format":"int32","maximum":2147483647,"minimum":-2147483648,"type":"integer"}},"required":["enableUpstreamNixOSCache","isPublic","preferredCompressionMethod"],"type":"object"},"CompletedMultipartUpload":{"properties":{"narInfoCreate":{"$ref":"#/definitions/NarInfoCreate"},"parts":{"items":{"$ref":"#/definitions/CompletedPart"},"minItems":1,"type":"array"}},"required":["narInfoCreate"],"type":"object"},"CompletedPart":{"properties":{"eTag":{"type":"string"},"partNumber":{"maximum":9223372036854775807,"minimum":-9223372036854775808,"type":"integer"}},"required":["partNumber","eTag"],"type":"object"},"CompressionMethod":{"enum":["XZ","ZSTD"],"type":"string"},"CreateAuthToken":{"properties":{"cacheName":{"type":"string"},"description":{"type":"string"},"expiresOn":{"$ref":"#/definitions/UTCTime"},"isAgentToken":{"type":"boolean"},"permission":{"$ref":"#/definitions/Permission"},"workspaceSlug":{"type":"string"}},"required":["description","isAgentToken","permission"],"type":"object"},"CreateMultipartUploadResponse":{"properties":{"narId":{"$ref":"#/definitions/UUID"},"uploadId":{"type":"string"}},"required":["narId","uploadId"],"type":"object"},"CreateOrganization":{"properties":{"name":{"type":"string"},"slug":{"type":"string"}},"required":["name","slug"],"type":"object"},"CreateWorkspace":{"properties":{"accountID":{"format":"int32","maximum":2147483647,"minimum":-2147483648,"type":"integer"},"cacheName":{"type":"string"},"name":{"type":"string"},"slug":{"type":"string"}},"required":["name","slug","accountID"],"type":"object"},"Deploy":{"properties":{"agents":{"additionalProperties":{"type":"string"},"type":"object"},"rollbackScript":{"additionalProperties":{"type":"string"},"type":"object"}},"required":["agents"],"type":"object"},"DeployResponse":{"properties":{"agents":{"additionalProperties":{"type":"string"},"type":"object"}},"required":["agents"],"type":"object"},"Deployment":{"properties":{"closureSize":{"format":"int64","maximum":9223372036854775807,"minimum":-9223372036854775808,"type":"integer"},"createdOn":{"$ref":"#/definitions/UTCTime"},"id":{"$ref":"#/definitions/UUID"},"index":{"format":"int64","maximum":9223372036854775807,"minimum":-9223372036854775808,"type":"integer"},"startedOn":{"$ref":"#/definitions/UTCTime"},"status":{"$ref":"#/definitions/Status"},"storePath":{"type":"string"}},"required":["id","index","createdOn","storePath","status"],"type":"object"},"DeploymentAction":{"enum":["CancelDeployment","RollbackToDeployment"],"type":"string"},"FrontendConfig":{"properties":{"createTokenExpiryOptionsInHours":{"items":{"exclusiveMinimum":false,"minimum":0,"type":"integer"},"type":"array"}},"required":["createTokenExpiryOptionsInHours"],"type":"object"},"GarbageCollectionLog":{"properties":{"binaryCache":{"type":"string"},"createdOn":{"$ref":"#/definitions/UTCTime"},"deletedOn":{"$ref":"#/definitions/UTCTime"},"fileSize":{"type":"integer"},"lastAccessedOn":{"$ref":"#/definitions/UTCTime"},"storePath":{"type":"string"}},"required":["binaryCache","storePath","fileSize","createdOn"],"type":"object"},"GitHubTeam":{"properties":{"id":{"maximum":9223372036854775807,"minimum":-9223372036854775808,"type":"integer"},"name":{"type":"string"}},"required":["id","name"],"type":"object"},"Log":{"properties":{"line":{"type":"string"},"time":{"$ref":"#/definitions/UTCTime"}},"required":["line","time"],"type":"object"},"Login":{"properties":{"email":{"type":"string"},"password":{"type":"string"}},"required":["email","password"],"type":"object"},"Member":{"properties":{"id":{"format":"int32","maximum":2147483647,"minimum":-2147483648,"type":"integer"},"name":{"type":"string"},"permission":{"$ref":"#/definitions/Permission"},"source":{"$ref":"#/definitions/Source"}},"required":["id","permission","name","source"],"type":"object"},"NarInfo":{"properties":{"ca":{"type":"string"},"compression":{"type":"string"},"deriver":{"type":"string"},"fileHash":{"type":"string"},"fileSize":{"type":"integer"},"narHash":{"type":"string"},"narSize":{"type":"integer"},"references":{"items":{"type":"string"},"type":"array","uniqueItems":true},"sig":{"type":"string"},"storePath":{"type":"string"},"system":{"type":"string"},"url":{"type":"string"}},"required":["storePath","url","compression","fileHash","fileSize","narHash","narSize","references"],"type":"object"},"NarInfoCreate":{"properties":{"cDeriver":{"type":"string"},"cFileHash":{"type":"string"},"cFileSize":{"type":"integer"},"cNarHash":{"type":"string"},"cNarSize":{"type":"integer"},"cReferences":{"items":{"type":"string"},"type":"array"},"cSig":{"type":"string"},"cStoreHash":{"type":"string"},"cStoreSuffix":{"type":"string"}},"required":["cStoreHash","cStoreSuffix","cNarHash","cNarSize","cFileHash","cFileSize","cReferences","cDeriver"],"type":"object"},"NixCacheInfo":{"properties":{"priority":{"type":"integer"},"storeDir":{"type":"string"},"wantMassQuery":{"type":"integer"}},"required":["storeDir","wantMassQuery","priority"],"type":"object"},"OrganizationAdmin":{"properties":{"email":{"type":"string"},"id":{"format":"int32","maximum":2147483647,"minimum":-2147483648,"type":"integer"}},"required":["id","email"],"type":"object"},"PasswordReset":{"properties":{"password":{"type":"string"},"passwordRepeated":{"type":"string"},"token":{"type":"string"}},"required":["token","password","passwordRepeated"],"type":"object"},"Permission":{"enum":["Read","Write","Admin"],"type":"string"},"SignUp":{"properties":{"address":{"type":"string"},"email":{"type":"string"},"fullname":{"type":"string"},"password":{"type":"string"},"passwordRepeated":{"type":"string"}},"required":["email","password","passwordRepeated","fullname","address"],"type":"object"},"SigningData":{"properties":{"contentMD5":{"type":"string"}},"required":["contentMD5"],"type":"object"},"SigningKeyCreate":{"properties":{"publicKey":{"type":"string"}},"required":["publicKey"],"type":"object"},"Source":{"enum":["Manual","GitHub"],"type":"string"},"Status":{"enum":["Pending","InProgress","Cancelled","Failed","Succeeded"],"type":"string"},"StorePathResult":{"properties":{"fileSize":{"format":"int64","maximum":9223372036854775807,"minimum":-9223372036854775808,"type":"integer"},"lastAccessedTime":{"$ref":"#/definitions/UTCTime"},"narSize":{"format":"int64","maximum":9223372036854775807,"minimum":-9223372036854775808,"type":"integer"},"storeHash":{"type":"string"},"storeSuffix":{"type":"string"}},"required":["storeHash","storeSuffix","fileSize","narSize"],"type":"object"},"SubscriptionPlan":{"enum":["Community","Starter","Basic","Pro"],"type":"string"},"SubscriptionStatus":{"enum":["NoSubscription","Trial","Subscribed","Cancelled"],"type":"string"},"UTCTime":{"example":"2016-07-22T00:00:00Z","format":"yyyy-mm-ddThh:MM:ssZ","type":"string"},"UUID":{"example":"00000000-0000-0000-0000-000000000000","format":"uuid","type":"string"},"UploadPartResponse":{"properties":{"uploadUrl":{"type":"string"}},"required":["uploadUrl"],"type":"object"},"Workspace":{"properties":{"agents":{"items":{"$ref":"#/definitions/Agent"},"type":"array"},"cacheName":{"type":"string"},"id":{"type":"string"},"name":{"type":"string"},"slug":{"type":"string"}},"required":["name","slug","id","agents"],"type":"object"},"WorkspaceSettings":{"properties":{"cacheName":{"type":"string"},"name":{"type":"string"},"slug":{"type":"string"}},"required":["name","slug"],"type":"object"},"lazyByteString":{"format":"binary","type":"string"}},"info":{"description":"Official HTTP API used by cachix command line client and web interface.","title":"cachix.org HTTP API","version":"1.0"},"paths":{"/api/v1/cache/dashboard/{account_id}":{"get":{"parameters":[{"format":"int32","in":"path","maximum":2147483647,"minimum":-2147483648,"name":"account_id","required":true,"type":"integer"}],"produces":["application/json;charset=utf-8"],"responses":{"200":{"description":"","schema":{"items":{"$ref":"#/definitions/BinaryCacheAuthenticated"},"type":"array"}},"400":{"description":"Invalid `account_id`"}},"security":[{"JwtSecurity":[]},{"BasicAuth":[]}]}},"/api/v1/cache/{name}":{"delete":{"parameters":[{"in":"path","name":"name","required":true,"type":"string"}],"produces":["application/json;charset=utf-8"],"responses":{"200":{"description":""},"400":{"description":"Invalid `name`"}},"security":[{"JwtSecurity":[]},{"BasicAuth":[]}]},"get":{"parameters":[{"in":"path","name":"name","required":true,"type":"string"}],"produces":["application/json;charset=utf-8"],"responses":{"200":{"description":"","schema":{"$ref":"#/definitions/BinaryCache"}},"400":{"description":"Invalid `name`"}},"security":[{"JwtSecurity":[]},{"BasicAuth":[]}]},"post":{"consumes":["application/json;charset=utf-8"],"parameters":[{"in":"path","name":"name","required":true,"type":"string"},{"in":"body","name":"body","required":true,"schema":{"$ref":"#/definitions/BinaryCacheCreate"}}],"produces":["application/json;charset=utf-8"],"responses":{"200":{"description":""},"400":{"description":"Invalid `body` or `name`"}},"security":[{"JwtSecurity":[]},{"BasicAuth":[]}]}},"/api/v1/cache/{name}/clear":{"post":{"parameters":[{"in":"path","name":"name","required":true,"type":"string"}],"produces":["application/json;charset=utf-8"],"responses":{"200":{"description":""},"400":{"description":"Invalid `name`"}},"security":[{"JwtSecurity":[]},{"BasicAuth":[]}]}},"/api/v1/cache/{name}/contents":{"get":{"parameters":[{"in":"path","name":"name","required":true,"type":"string"}],"produces":["application/json;charset=utf-8"],"responses":{"200":{"description":"","schema":{"items":{"type":"string"},"type":"array"}},"400":{"description":"Invalid `name`"}},"security":[{"JwtSecurity":[]},{"BasicAuth":[]}]}},"/api/v1/cache/{name}/convert":{"post":{"consumes":["application/json;charset=utf-8"],"parameters":[{"in":"path","name":"name","required":true,"type":"string"},{"in":"body","name":"body","required":true,"schema":{"type":"string"}}],"produces":["application/json;charset=utf-8"],"responses":{"200":{"description":""},"400":{"description":"Invalid `body` or `name`"}},"security":[{"JwtSecurity":[]},{"BasicAuth":[]}]}},"/api/v1/cache/{name}/details":{"get":{"parameters":[{"in":"path","name":"name","required":true,"type":"string"}],"produces":["application/json;charset=utf-8"],"responses":{"200":{"description":"","schema":{"$ref":"#/definitions/BinaryCacheAuthenticated"}},"400":{"description":"Invalid `name`"}},"security":[{"JwtSecurity":[]},{"BasicAuth":[]}]}},"/api/v1/cache/{name}/key":{"post":{"consumes":["application/json;charset=utf-8"],"parameters":[{"in":"path","name":"name","required":true,"type":"string"},{"in":"body","name":"body","required":true,"schema":{"$ref":"#/definitions/SigningKeyCreate"}}],"produces":["application/json;charset=utf-8"],"responses":{"200":{"description":""},"400":{"description":"Invalid `body` or `name`"}},"security":[{"JwtSecurity":[]},{"BasicAuth":[]}]}},"/api/v1/cache/{name}/members":{"delete":{"consumes":["application/json;charset=utf-8"],"parameters":[{"in":"path","name":"name","required":true,"type":"string"},{"in":"body","name":"body","required":true,"schema":{"format":"int32","maximum":2147483647,"minimum":-2147483648,"type":"integer"}}],"produces":["application/json;charset=utf-8"],"responses":{"200":{"description":""},"400":{"description":"Invalid `body` or `name`"}},"security":[{"JwtSecurity":[]},{"BasicAuth":[]}]},"get":{"parameters":[{"in":"path","name":"name","required":true,"type":"string"}],"produces":["application/json;charset=utf-8"],"responses":{"200":{"description":"","schema":{"items":{"$ref":"#/definitions/Member"},"type":"array"}},"400":{"description":"Invalid `name`"}},"security":[{"JwtSecurity":[]},{"BasicAuth":[]}]},"post":{"consumes":["application/json;charset=utf-8"],"parameters":[{"in":"path","name":"name","required":true,"type":"string"},{"in":"body","name":"body","required":true,"schema":{"$ref":"#/definitions/AddMember"}}],"produces":["application/json;charset=utf-8"],"responses":{"200":{"description":""},"400":{"description":"Invalid `body` or `name`"}},"security":[{"JwtSecurity":[]},{"BasicAuth":[]}]}},"/api/v1/cache/{name}/multipart-nar":{"post":{"parameters":[{"in":"path","name":"name","required":true,"type":"string"},{"in":"query","name":"compression","required":false,"type":"string"}],"produces":["application/json;charset=utf-8"],"responses":{"200":{"description":"","schema":{"$ref":"#/definitions/CreateMultipartUploadResponse"}},"400":{"description":"Invalid `compression` or `name`"}},"security":[{"JwtSecurity":[]},{"BasicAuth":[]}],"summary":"Create an empty NAR and initiate a multipart upload"}},"/api/v1/cache/{name}/multipart-nar/{narUuid}":{"post":{"consumes":["application/json;charset=utf-8"],"parameters":[{"in":"path","name":"name","required":true,"type":"string"},{"format":"uuid","in":"path","name":"narUuid","required":true,"type":"string"},{"in":"query","name":"uploadId","required":true,"type":"string"},{"in":"query","maximum":9223372036854775807,"minimum":-9223372036854775808,"name":"partNumber","required":true,"type":"integer"},{"in":"body","name":"body","required":true,"schema":{"$ref":"#/definitions/SigningData"}}],"produces":["application/json;charset=utf-8"],"responses":{"200":{"description":"","schema":{"$ref":"#/definitions/UploadPartResponse"}},"400":{"description":"Invalid `body` or `partNumber` or `uploadId` or `narUuid` or `name`"}},"security":[{"JwtSecurity":[]},{"BasicAuth":[]}],"summary":"Retrieve a presigned URL to upload a part of a multipart NAR"}},"/api/v1/cache/{name}/multipart-nar/{narUuid}/abort":{"post":{"parameters":[{"in":"path","name":"name","required":true,"type":"string"},{"format":"uuid","in":"path","name":"narUuid","required":true,"type":"string"},{"in":"query","name":"uploadId","required":true,"type":"string"}],"produces":["application/json;charset=utf-8"],"responses":{"200":{"description":""},"400":{"description":"Invalid `uploadId` or `narUuid` or `name`"}},"security":[{"JwtSecurity":[]},{"BasicAuth":[]}],"summary":"Abort a multipart upload"}},"/api/v1/cache/{name}/multipart-nar/{narUuid}/complete":{"post":{"consumes":["application/json;charset=utf-8"],"description":"Verify the etags for each part and create the narinfo","parameters":[{"in":"path","name":"name","required":true,"type":"string"},{"format":"uuid","in":"path","name":"narUuid","required":true,"type":"string"},{"in":"query","name":"uploadId","required":true,"type":"string"},{"in":"body","name":"body","required":true,"schema":{"$ref":"#/definitions/CompletedMultipartUpload"}}],"produces":["application/json;charset=utf-8"],"responses":{"200":{"description":""},"400":{"description":"Invalid `body` or `uploadId` or `narUuid` or `name`"}},"security":[{"JwtSecurity":[]},{"BasicAuth":[]}],"summary":"Complete a multipart upload"}},"/api/v1/cache/{name}/nar":{"post":{"consumes":["application/octet-stream"],"description":"This is a legacy API for older Cachix clients. Prefer 'createNar' instead.","parameters":[{"in":"path","name":"name","required":true,"type":"string"},{"in":"query","name":"compression","required":false,"type":"string"},{"in":"body","name":"body","required":true,"schema":{"example":[],"items":{},"maxItems":0,"type":"array"}}],"produces":["application/json;charset=utf-8"],"responses":{"200":{"description":""},"400":{"description":"Invalid `body` or `compression` or `name`"}},"security":[{"JwtSecurity":[]},{"BasicAuth":[]}],"summary":"Upload a NAR directly to the Cachix Server"}},"/api/v1/cache/{name}/nar/{nar}":{"get":{"parameters":[{"in":"path","name":"name","required":true,"type":"string"},{"in":"path","name":"nar","required":true,"type":"string"}],"produces":["application/octet-stream"],"responses":{"302":{"description":"","headers":{"Location":{"type":"string"}}},"400":{"description":"Invalid `nar` or `name`"}},"security":[{"JwtSecurity":[]},{"BasicAuth":[]}]}},"/api/v1/cache/{name}/narinfo":{"post":{"consumes":["application/json;charset=utf-8"],"parameters":[{"in":"path","name":"name","required":true,"type":"string"},{"in":"body","name":"body","required":true,"schema":{"items":{"type":"string"},"type":"array"}}],"produces":["application/json;charset=utf-8"],"responses":{"200":{"description":"","schema":{"items":{"type":"string"},"type":"array"}},"400":{"description":"Invalid `body` or `name`"}},"security":[{"JwtSecurity":[]},{"BasicAuth":[]}],"summary":"Given a list of store hashes, return a list of those that are missing"}},"/api/v1/cache/{name}/narurl/{nar}":{"get":{"parameters":[{"in":"path","name":"name","required":true,"type":"string"},{"in":"path","name":"nar","required":true,"type":"string"}],"produces":["application/json;charset=utf-8"],"responses":{"200":{"description":"","schema":{"type":"string"}},"400":{"description":"Invalid `nar` or `name`"}},"security":[{"JwtSecurity":[]},{"BasicAuth":[]}]}},"/api/v1/cache/{name}/nix-cache-info":{"get":{"parameters":[{"in":"path","name":"name","required":true,"type":"string"}],"produces":["application/octet-stream","application/json;charset=utf-8"],"responses":{"200":{"description":"","schema":{"$ref":"#/definitions/NixCacheInfo"}},"400":{"description":"Invalid `name`"}},"security":[{"JwtSecurity":[]},{"BasicAuth":[]}]}},"/api/v1/cache/{name}/search/{query}":{"get":{"parameters":[{"in":"path","name":"name","required":true,"type":"string"},{"in":"path","name":"query","required":true,"type":"string"}],"produces":["application/json;charset=utf-8"],"responses":{"200":{"description":"","schema":{"items":{"$ref":"#/definitions/StorePathResult"},"type":"array"}},"400":{"description":"Invalid `query` or `name`"}},"security":[{"JwtSecurity":[]},{"BasicAuth":[]}]}},"/api/v1/cache/{name}/serve/{storehash}/{filepath}":{"get":{"parameters":[{"in":"path","name":"name","required":true,"type":"string"},{"in":"path","name":"storehash","required":true,"type":"string"},{"in":"path","name":"filepath","required":true,"type":"string"}],"produces":["application/octet-stream"],"responses":{"200":{"description":"","headers":{"Cache-Control":{"type":"string"},"X-Content-Type-Options":{"type":"string"}},"schema":{"$ref":"#/definitions/lazyByteString"}},"400":{"description":"Invalid `filepath` or `storehash` or `name`"}},"security":[{"JwtSecurity":[]},{"BasicAuth":[]}],"summary":"Serve a file from a given store path"}},"/api/v1/cache/{name}/settings":{"get":{"parameters":[{"in":"path","name":"name","required":true,"type":"string"}],"produces":["application/json;charset=utf-8"],"responses":{"200":{"description":"","schema":{"$ref":"#/definitions/BinaryCacheSettings"}},"400":{"description":"Invalid `name`"}},"security":[{"JwtSecurity":[]},{"BasicAuth":[]}]},"put":{"consumes":["application/json;charset=utf-8"],"parameters":[{"in":"path","name":"name","required":true,"type":"string"},{"in":"body","name":"body","required":true,"schema":{"$ref":"#/definitions/BinaryCacheSettings"}}],"produces":["application/json;charset=utf-8"],"responses":{"200":{"description":""},"400":{"description":"Invalid `body` or `name`"}},"security":[{"JwtSecurity":[]},{"BasicAuth":[]}]}},"/api/v1/cache/{name}/transfer/{account_id}":{"post":{"parameters":[{"in":"path","name":"name","required":true,"type":"string"},{"format":"int32","in":"path","maximum":2147483647,"minimum":-2147483648,"name":"account_id","required":true,"type":"integer"}],"produces":["application/json;charset=utf-8"],"responses":{"200":{"description":""},"400":{"description":"Invalid `account_id` or `name`"}},"security":[{"JwtSecurity":[]},{"BasicAuth":[]}],"tags":["Administration"]}},"/api/v1/cache/{name}/{narinfohash}":{"delete":{"parameters":[{"in":"path","name":"name","required":true,"type":"string"},{"in":"path","name":"narinfohash","required":true,"type":"string"}],"produces":["application/json;charset=utf-8"],"responses":{"200":{"description":""},"400":{"description":"Invalid `narinfohash` or `name`"}},"security":[{"JwtSecurity":[]},{"BasicAuth":[]}]},"get":{"parameters":[{"in":"path","name":"name","required":true,"type":"string"},{"in":"path","name":"narinfohash","required":true,"type":"string"}],"produces":["text/x-nix-narinfo","application/json;charset=utf-8"],"responses":{"200":{"description":"","headers":{"Cache-Control":{"type":"string"}},"schema":{"$ref":"#/definitions/NarInfo"}},"400":{"description":"Invalid `narinfohash` or `name`"}},"security":[{"JwtSecurity":[]},{"BasicAuth":[]}]},"head":{"parameters":[{"in":"path","name":"name","required":true,"type":"string"},{"in":"path","name":"narinfohash","required":true,"type":"string"}],"produces":["application/json;charset=utf-8"],"responses":{"200":{"description":""},"400":{"description":"Invalid `narinfohash` or `name`"}},"security":[{"JwtSecurity":[]},{"BasicAuth":[]}]},"post":{"consumes":["application/json;charset=utf-8"],"parameters":[{"in":"path","name":"name","required":true,"type":"string"},{"in":"path","name":"narinfohash","required":true,"type":"string"},{"in":"body","name":"body","required":true,"schema":{"$ref":"#/definitions/NarInfoCreate"}}],"produces":["application/json;charset=utf-8"],"responses":{"200":{"description":""},"400":{"description":"Invalid `body` or `narinfohash` or `name`"}},"security":[{"JwtSecurity":[]},{"BasicAuth":[]}]}},"/api/v1/deploy/account/{account_id}/workspaces":{"get":{"parameters":[{"format":"int32","in":"path","maximum":2147483647,"minimum":-2147483648,"name":"account_id","required":true,"type":"integer"}],"produces":["application/json;charset=utf-8"],"responses":{"200":{"description":"","schema":{"items":{"$ref":"#/definitions/Workspace"},"type":"array"}},"400":{"description":"Invalid `account_id`"}},"security":[{"JwtSecurity":[]},{"BasicAuth":[]}],"tags":["Deploy"]}},"/api/v1/deploy/activate":{"post":{"consumes":["application/json;charset=utf-8"],"parameters":[{"in":"body","name":"body","required":true,"schema":{"$ref":"#/definitions/Deploy"}}],"produces":["application/json;charset=utf-8"],"responses":{"200":{"description":"","schema":{"$ref":"#/definitions/DeployResponse"}},"400":{"description":"Invalid `body`"}},"security":[{"JwtSecurity":[]},{"BasicAuth":[]}],"tags":["Deploy"]}},"/api/v1/deploy/agent/{workspace}/{name}":{"get":{"parameters":[{"in":"path","name":"workspace","required":true,"type":"string"},{"in":"path","name":"name","required":true,"type":"string"}],"produces":["application/json;charset=utf-8"],"responses":{"200":{"description":"","schema":{"$ref":"#/definitions/Agent"}},"400":{"description":"Invalid `name` or `workspace`"}},"security":[{"JwtSecurity":[]},{"BasicAuth":[]}],"tags":["Deploy"]}},"/api/v1/deploy/deployment/{uuid}":{"get":{"parameters":[{"format":"uuid","in":"path","name":"uuid","required":true,"type":"string"}],"produces":["application/json;charset=utf-8"],"responses":{"200":{"description":"","schema":{"$ref":"#/definitions/Deployment"}},"400":{"description":"Invalid `uuid`"}},"security":[{"JwtSecurity":[]},{"BasicAuth":[]}],"tags":["Deploy"]}},"/api/v1/deploy/deployment/{workspace}/{name}":{"get":{"parameters":[{"in":"path","name":"workspace","required":true,"type":"string"},{"in":"path","name":"name","required":true,"type":"string"}],"produces":["application/json;charset=utf-8"],"responses":{"200":{"description":"","schema":{"items":{"$ref":"#/definitions/Deployment"},"type":"array"}},"400":{"description":"Invalid `name` or `workspace`"}},"security":[{"JwtSecurity":[]},{"BasicAuth":[]}],"tags":["Deploy"]}},"/api/v1/deploy/deployment/{workspace}/{name}/{index}":{"get":{"parameters":[{"in":"path","name":"workspace","required":true,"type":"string"},{"in":"path","name":"name","required":true,"type":"string"},{"format":"int64","in":"path","maximum":9223372036854775807,"minimum":-9223372036854775808,"name":"index","required":true,"type":"integer"}],"produces":["application/json;charset=utf-8"],"responses":{"200":{"description":"","schema":{"$ref":"#/definitions/Deployment"}},"400":{"description":"Invalid `index` or `name` or `workspace`"}},"security":[{"JwtSecurity":[]},{"BasicAuth":[]}],"tags":["Deploy"]},"patch":{"consumes":["application/json;charset=utf-8"],"parameters":[{"in":"path","name":"workspace","required":true,"type":"string"},{"in":"path","name":"name","required":true,"type":"string"},{"format":"int64","in":"path","maximum":9223372036854775807,"minimum":-9223372036854775808,"name":"index","required":true,"type":"integer"},{"in":"body","name":"body","required":true,"schema":{"$ref":"#/definitions/DeploymentAction"}}],"produces":["application/json;charset=utf-8"],"responses":{"200":{"description":""},"400":{"description":"Invalid `body` or `index` or `name` or `workspace`"}},"security":[{"JwtSecurity":[]},{"BasicAuth":[]}],"tags":["Deploy"]}},"/api/v1/deploy/logs/{uuid}":{"get":{"parameters":[{"in":"path","name":"uuid","required":true,"type":"string"}],"produces":["application/json;charset=utf-8"],"responses":{"200":{"description":"","schema":{"items":{"$ref":"#/definitions/Log"},"type":"array"}},"400":{"description":"Invalid `uuid`"}},"security":[{"JwtSecurity":[]},{"BasicAuth":[]}],"tags":["Deploy"]},"post":{"consumes":["application/json;charset=utf-8"],"parameters":[{"in":"path","name":"uuid","required":true,"type":"string"},{"in":"body","name":"body","required":true,"schema":{"items":{"$ref":"#/definitions/Log"},"type":"array"}}],"produces":["application/json;charset=utf-8"],"responses":{"200":{"description":""},"400":{"description":"Invalid `body` or `uuid`"}},"security":[{"JwtSecurity":[]},{"BasicAuth":[]}],"tags":["Deploy"]}},"/api/v1/deploy/workspace":{"post":{"consumes":["application/json;charset=utf-8"],"parameters":[{"in":"body","name":"body","required":true,"schema":{"$ref":"#/definitions/CreateWorkspace"}}],"produces":["application/json;charset=utf-8"],"responses":{"200":{"description":"","schema":{"$ref":"#/definitions/Workspace"}},"400":{"description":"Invalid `body`"}},"security":[{"JwtSecurity":[]},{"BasicAuth":[]}],"tags":["Deploy"]}},"/api/v1/deploy/workspace/settings/{workspace}":{"get":{"parameters":[{"in":"path","name":"workspace","required":true,"type":"string"}],"produces":["application/json;charset=utf-8"],"responses":{"200":{"description":"","schema":{"$ref":"#/definitions/WorkspaceSettings"}},"400":{"description":"Invalid `workspace`"}},"security":[{"JwtSecurity":[]},{"BasicAuth":[]}],"tags":["Deploy"]},"post":{"consumes":["application/json;charset=utf-8"],"parameters":[{"in":"path","name":"workspace","required":true,"type":"string"},{"in":"body","name":"body","required":true,"schema":{"$ref":"#/definitions/WorkspaceSettings"}}],"produces":["application/json;charset=utf-8"],"responses":{"200":{"description":""},"400":{"description":"Invalid `body` or `workspace`"}},"security":[{"JwtSecurity":[]},{"BasicAuth":[]}],"tags":["Deploy"]}},"/api/v1/frontend-config":{"get":{"produces":["application/json;charset=utf-8"],"responses":{"200":{"description":"","schema":{"$ref":"#/definitions/FrontendConfig"}}},"tags":["User"]}},"/api/v1/garbage-collection/history/{account_id}":{"get":{"parameters":[{"format":"int32","in":"path","maximum":2147483647,"minimum":-2147483648,"name":"account_id","required":true,"type":"integer"},{"in":"query","maximum":9223372036854775807,"minimum":-9223372036854775808,"name":"limit","required":false,"type":"integer"}],"produces":["application/json;charset=utf-8"],"responses":{"200":{"description":"","schema":{"items":{"$ref":"#/definitions/GarbageCollectionLog"},"type":"array"}},"400":{"description":"Invalid `limit` or `account_id`"}},"security":[{"JwtSecurity":[]},{"BasicAuth":[]}],"tags":["Garbage Collection"]}},"/api/v1/garbage-collection/next/{account_id}":{"get":{"parameters":[{"format":"int32","in":"path","maximum":2147483647,"minimum":-2147483648,"name":"account_id","required":true,"type":"integer"},{"in":"query","maximum":9223372036854775807,"minimum":-9223372036854775808,"name":"limit","required":false,"type":"integer"}],"produces":["application/json;charset=utf-8"],"responses":{"200":{"description":"","schema":{"items":{"$ref":"#/definitions/GarbageCollectionLog"},"type":"array"}},"400":{"description":"Invalid `limit` or `account_id`"}},"security":[{"JwtSecurity":[]},{"BasicAuth":[]}],"tags":["Garbage Collection"]}},"/api/v1/github/orgs":{"get":{"produces":["application/json;charset=utf-8"],"responses":{"200":{"description":"","schema":{"items":{"type":"string"},"type":"array"}}},"security":[{"JwtSecurity":[]},{"BasicAuth":[]}],"tags":["GitHub"]}},"/api/v1/github/orgs/{org}/teams":{"get":{"parameters":[{"in":"path","name":"org","required":true,"type":"string"}],"produces":["application/json;charset=utf-8"],"responses":{"200":{"description":"","schema":{"items":{"$ref":"#/definitions/GitHubTeam"},"type":"array"}},"400":{"description":"Invalid `org`"}},"security":[{"JwtSecurity":[]},{"BasicAuth":[]}],"tags":["GitHub"]}},"/api/v1/grant/github":{"get":{"parameters":[{"in":"query","name":"redirect","required":false,"type":"string"},{"in":"query","name":"scope","required":false,"type":"string"}],"produces":["application/json;charset=utf-8"],"responses":{"302":{"description":"","headers":{"Location":{"type":"string"}}},"400":{"description":"Invalid `scope` or `redirect`"}},"security":[{"JwtSecurity":[]},{"BasicAuth":[]}],"tags":["User"]}},"/api/v1/install":{"get":{"produces":["application/octet-stream"],"responses":{"200":{"description":"","headers":{"Cache-Control":{"type":"string"},"Content-Length":{"format":"int64","maximum":9223372036854775807,"minimum":-9223372036854775808,"type":"integer"}},"schema":{"$ref":"#/definitions/lazyByteString"}}},"summary":"Redirects to a tarball containing nix expression to build the latest version of cachix cli","tags":["Installation"]}},"/api/v1/install/{version}":{"get":{"parameters":[{"in":"path","name":"version","required":true,"type":"string"}],"produces":["application/octet-stream"],"responses":{"200":{"description":"","headers":{"Cache-Control":{"type":"string"},"Content-Length":{"format":"int64","maximum":9223372036854775807,"minimum":-9223372036854775808,"type":"integer"}},"schema":{"$ref":"#/definitions/lazyByteString"}},"400":{"description":"Invalid `version`"}},"summary":"Redirects to a tarball containing nix expression to build given version of cachix cli","tags":["Installation"]}},"/api/v1/login":{"post":{"consumes":["application/json;charset=utf-8"],"parameters":[{"in":"body","name":"body","required":true,"schema":{"$ref":"#/definitions/Login"}}],"produces":["application/json;charset=utf-8"],"responses":{"200":{"description":"","headers":{"Set-Cookie":{"type":"string"}}},"400":{"description":"Invalid `body`"}},"tags":["User"]}},"/api/v1/login/callback":{"get":{"parameters":[{"in":"query","name":"code","required":false,"type":"string"},{"in":"query","name":"state","required":false,"type":"string"},{"in":"query","name":"redirect","required":false,"type":"string"}],"produces":["application/json;charset=utf-8"],"responses":{"302":{"description":"","headers":{"Location":{"type":"string"},"Set-Cookie":{"type":"string"}}},"400":{"description":"Invalid `redirect` or `state` or `code`"}},"tags":["User"]}},"/api/v1/login/github":{"get":{"parameters":[{"in":"query","name":"redirect","required":false,"type":"string"}],"produces":["application/json;charset=utf-8"],"responses":{"302":{"description":"","headers":{"Location":{"type":"string"}}},"400":{"description":"Invalid `redirect`"}},"tags":["User"]}},"/api/v1/logout":{"post":{"produces":["application/json;charset=utf-8"],"responses":{"302":{"description":"","headers":{"Location":{"type":"string"},"Set-Cookie":{"type":"string"}}}},"security":[{"JwtSecurity":[]},{"BasicAuth":[]}],"tags":["User"]}},"/api/v1/organization":{"get":{"produces":["application/json;charset=utf-8"],"responses":{"200":{"description":"","schema":{"items":{"$ref":"#/definitions/Account"},"type":"array"}}},"security":[{"JwtSecurity":[]},{"BasicAuth":[]}],"tags":["Organization"]},"post":{"consumes":["application/json;charset=utf-8"],"parameters":[{"in":"body","name":"body","required":true,"schema":{"$ref":"#/definitions/CreateOrganization"}}],"produces":["application/json;charset=utf-8"],"responses":{"200":{"description":"","schema":{"$ref":"#/definitions/Account"}},"400":{"description":"Invalid `body`"}},"security":[{"JwtSecurity":[]},{"BasicAuth":[]}],"tags":["Organization"]}},"/api/v1/organization/{name}":{"delete":{"parameters":[{"in":"path","name":"name","required":true,"type":"string"}],"produces":["application/json;charset=utf-8"],"responses":{"200":{"description":""},"400":{"description":"Invalid `name`"}},"security":[{"JwtSecurity":[]},{"BasicAuth":[]}],"tags":["Organization"]}},"/api/v1/organization/{name}/admin":{"get":{"parameters":[{"in":"path","name":"name","required":true,"type":"string"}],"produces":["application/json;charset=utf-8"],"responses":{"200":{"description":"","schema":{"items":{"$ref":"#/definitions/OrganizationAdmin"},"type":"array"}},"400":{"description":"Invalid `name`"}},"security":[{"JwtSecurity":[]},{"BasicAuth":[]}],"tags":["Organization"]},"post":{"consumes":["application/json;charset=utf-8"],"parameters":[{"in":"path","name":"name","required":true,"type":"string"},{"in":"body","name":"body","required":true,"schema":{"type":"string"}}],"produces":["application/json;charset=utf-8"],"responses":{"200":{"description":""},"400":{"description":"Invalid `body` or `name`"}},"security":[{"JwtSecurity":[]},{"BasicAuth":[]}],"tags":["Organization"]}},"/api/v1/organization/{name}/admin/remove":{"post":{"consumes":["application/json;charset=utf-8"],"parameters":[{"in":"path","name":"name","required":true,"type":"string"},{"in":"body","name":"body","required":true,"schema":{"type":"string"}}],"produces":["application/json;charset=utf-8"],"responses":{"200":{"description":""},"400":{"description":"Invalid `body` or `name`"}},"security":[{"JwtSecurity":[]},{"BasicAuth":[]}],"tags":["Organization"]}},"/api/v1/password/reset":{"post":{"consumes":["application/json;charset=utf-8"],"parameters":[{"in":"body","name":"body","required":true,"schema":{"$ref":"#/definitions/PasswordReset"}}],"produces":["application/json;charset=utf-8"],"responses":{"200":{"description":"","headers":{"Set-Cookie":{"type":"string"}},"schema":{"$ref":"#/definitions/Account"}},"400":{"description":"Invalid `body`"}},"tags":["User"]}},"/api/v1/password/reset/{email}":{"post":{"parameters":[{"in":"path","name":"email","required":true,"type":"string"}],"produces":["application/json;charset=utf-8"],"responses":{"200":{"description":""},"400":{"description":"Invalid `email`"}},"tags":["User"]}},"/api/v1/signup":{"post":{"consumes":["application/json;charset=utf-8"],"parameters":[{"in":"body","name":"body","required":true,"schema":{"$ref":"#/definitions/SignUp"}}],"produces":["application/json;charset=utf-8"],"responses":{"200":{"description":""},"400":{"description":"Invalid `body`"}},"tags":["User"]}},"/api/v1/token":{"get":{"parameters":[{"in":"query","name":"cache","required":false,"type":"string"},{"in":"query","name":"agent","required":false,"type":"string"},{"in":"query","name":"activate","required":false,"type":"string"}],"produces":["application/json;charset=utf-8"],"responses":{"200":{"description":"","schema":{"items":{"$ref":"#/definitions/AuthToken"},"type":"array"}},"400":{"description":"Invalid `activate` or `agent` or `cache`"}},"security":[{"JwtSecurity":[]},{"BasicAuth":[]}],"tags":["User"]},"post":{"consumes":["application/json;charset=utf-8"],"parameters":[{"in":"body","name":"body","required":true,"schema":{"$ref":"#/definitions/CreateAuthToken"}}],"produces":["application/json;charset=utf-8"],"responses":{"200":{"description":"","schema":{"type":"string"}},"400":{"description":"Invalid `body`"}},"security":[{"JwtSecurity":[]},{"BasicAuth":[]}],"tags":["User"]}},"/api/v1/token/{uuid}/revoke":{"post":{"parameters":[{"in":"path","name":"uuid","required":true,"type":"string"}],"produces":["application/json;charset=utf-8"],"responses":{"200":{"description":""},"400":{"description":"Invalid `uuid`"}},"security":[{"JwtSecurity":[]},{"BasicAuth":[]}],"tags":["User"]}},"/api/v1/transfer-subscription/{account_id_from}/{account_id_to}":{"post":{"parameters":[{"in":"path","name":"account_id_from","required":true,"type":"integer"},{"in":"path","name":"account_id_to","required":true,"type":"integer"}],"produces":["application/json;charset=utf-8"],"responses":{"200":{"description":""},"400":{"description":"Invalid `account_id_to` or `account_id_from`"}},"security":[{"JwtSecurity":[]},{"BasicAuth":[]}],"tags":["User","Administration"]}},"/api/v1/user":{"get":{"produces":["application/json;charset=utf-8"],"responses":{"200":{"description":"","schema":{"$ref":"#/definitions/Account"}}},"security":[{"JwtSecurity":[]},{"BasicAuth":[]}],"tags":["User"]}},"/api/v1/verify/email/{token}":{"get":{"parameters":[{"in":"path","name":"token","required":true,"type":"string"}],"produces":["application/json;charset=utf-8"],"responses":{"302":{"description":"","headers":{"Location":{"type":"string"},"Set-Cookie":{"type":"string"}}},"400":{"description":"Invalid `token`"}},"tags":["User"]}}},"securityDefinitions":{"BasicAuth":{"description":"Basic access authentication","type":"basic"},"JwtSecurity":{"description":"JSON Web Token-based API key","in":"header","name":"Authorization","type":"apiKey"}},"swagger":"2.0"}